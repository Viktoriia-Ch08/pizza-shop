import{r as a,b as k,e as q,j as e,v as R,F as E,w as L,G as D}from"./index-Bz4omPqh.js";import{t as u,R as m,a as g}from"./togglePassword-aWd8hsVc.js";import{u as F}from"./index.esm-DphOFFwq.js";const O=()=>{const[n,h]=a.useState("password"),[x,j]=a.useState(!1),[b,w]=a.useState(!1),[l,y]=a.useState("password"),i=k(),f=q(),{handleSubmit:S,watch:I,register:r,formState:{errors:s,isValid:d},reset:C}=F({mode:"onTouched"}),N=async t=>{try{i(E(t)).then(o=>{const{displayName:c,email:v,phoneNumber:p}=t,T={uid:o.payload.uid,displayName:c,email:v,phoneNumber:p};L(T),i(D({displayName:c,phoneNumber:p})),C(),f("/")})}catch(o){console.log(o.message)}},P=I("password","");return e.jsxs("form",{onSubmit:S(N),children:[e.jsx("label",{children:e.jsx("input",{type:"text",...r("displayName",{required:!0}),placeholder:"Adam"})}),e.jsxs("label",{children:[e.jsx("input",{type:"email",...r("email",{required:!0}),placeholder:"email@gmail.com"}),s.email&&e.jsxs("span",{children:[" ",s.email.message]})]}),e.jsxs("label",{children:[e.jsx("input",{type:"tel",...r("phoneNumber",{required:!0}),placeholder:"777-88-99"}),s.number&&e.jsxs("span",{children:[" ",s.number.message]})]}),e.jsxs("label",{children:[e.jsx("input",{type:n,...r("password",{required:!0}),placeholder:"Password",className:"form-control"}),e.jsx("svg",{onClick:()=>u(n,h,j),children:x?e.jsx(m,{}):e.jsx(g,{})}),s.password&&e.jsx("span",{children:s.password.message})]}),e.jsxs("label",{children:[e.jsx("input",{type:l,...r("repeatPassword",{required:!0,validate:t=>t===P||"Passwords do not match"}),placeholder:"Confirm Password",className:"form-control"}),e.jsx("svg",{onClick:()=>u(l,y,w),children:b?e.jsx(m,{}):e.jsx(g,{})}),s.repeatPassword&&e.jsx("span",{children:s.repeatPassword.message})]}),e.jsx("button",{type:"submit",disabled:!d,style:{backgroundColor:d?"rgb(144, 64, 246)":"#CFC5DC"},children:"Submit"}),e.jsx(R,{to:"/login",children:"Log in"})]})};export{O as default};
